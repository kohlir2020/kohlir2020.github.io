{% comment %}
  Project item template for displaying projects in lists
  Usage: {% include project_item.html project=project_object featured=true/false %}
{% endcomment %}

{% assign item_class = "project-item" %}
{% if include.featured %}
  {% assign item_class = item_class | append: " project-item--featured" %}
{% endif %}

<article class="{{ item_class }}" role="article">
  <div class="project-header">
    <h3 class="project-title">
      <a href="{{ include.project.url | relative_url }}" class="project-title-link">
        {{ include.project.title }}
      </a>
    </h3>
    
    {% if include.project.year %}
      <span class="project-year" aria-label="Project year">{{ include.project.year }}</span>
    {% elsif include.project.date %}
      <span class="project-year" aria-label="Project year">{{ include.project.date | date: "%Y" }}</span>
    {% endif %}
  </div>

  {% if include.project.tech and include.project.tech.size > 0 %}
    <div class="project-tech" role="group" aria-label="Technologies used">
      {% for tech in include.project.tech %}
        <span class="tech-pill">{{ tech }}</span>
      {% endfor %}
    </div>
  {% endif %}

  {% if include.project.summary %}
    <p class="project-summary">
      {{ include.project.summary | truncatewords: 25 }}
    </p>
  {% endif %}

  <div class="project-actions" role="group" aria-label="Project links">
    {% if include.project.links.repo and include.project.links.repo != "" %}
      <a href="{{ include.project.links.repo }}" 
         class="project-cta project-cta--repo" 
         target="_blank" 
         rel="noopener"
         aria-label="View repository for {{ include.project.title }}">
        <span class="cta-icon" aria-hidden="true">📁</span>
        <span class="cta-text">Repo</span>
      </a>
    {% endif %}
    
    {% if include.project.links.paper and include.project.links.paper != "" %}
      <a href="{{ include.project.links.paper }}" 
         class="project-cta project-cta--paper" 
         target="_blank" 
         rel="noopener"
         aria-label="View paper for {{ include.project.title }}">
        <span class="cta-icon" aria-hidden="true">📄</span>
        <span class="cta-text">Paper</span>
      </a>
    {% endif %}
    
    {% if include.project.links.demo and include.project.links.demo != "" %}
      <a href="{{ include.project.links.demo }}" 
         class="project-cta project-cta--demo" 
         target="_blank" 
         rel="noopener"
         aria-label="View demo for {{ include.project.title }}">
        <span class="cta-icon" aria-hidden="true">🚀</span>
        <span class="cta-text">Demo</span>
      </a>
    {% endif %}
  </div>

  {% if include.project.status %}
    <div class="project-status">
      <span class="project-status-badge project-status--{{ include.project.status | downcase }}"
            aria-label="Project status: {{ include.project.status }}">
        {{ include.project.status }}
      </span>
    </div>
  {% endif %}
</article>